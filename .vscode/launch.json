{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Start aas-portal",
            "type": "chrome",
            "request": "launch",
            "preLaunchTask": "start",
            "url": "http://localhost:4200/",
            "webRoot": "${workspaceFolder}"
        },
        {
            "name": "Start aas-node",
            "type": "node",
            "args": ["--security-revert=CVE-2023-46809"],
            "request": "launch",
            "preLaunchTask": "build-aas-node",
            "program": "${workspaceFolder}/projects/aas-node/build/aas-node.js",
            "cwd": "${workspaceFolder}",
            "outFiles": [
                "${workspaceFolder}/projects/aas-node/build/**/*.js"
            ],
            "skipFiles": [
                "<node_internals>/**"
            ],
            "env": {
                "NODE_ENV": "development",
                "AAS_NODE_PORT": "1337",
                "CONTENT_ROOT": "projects/aas-node/build",
                "WEB_ROOT": "projects/aas-portal/dist",
                "ASSETS": "projects/aas-node/src/assets",
                "ENDPOINTS": "[\"file:///endpoints/samples?name=Samples\"]",
                // "USER_STORAGE": "mongodb://aas-server:bObXJWW6e8Nh78YF@localhost:27017/aasportal-users",
                "TEMPLATE_STORAGE": "http://aas-server:5w0vmrkzrwDIDyZs@localhost:8080/templates",
                "AAS_INDEX": "mysql://aas-server:60PYRe6Vd8C99u4n@localhost:3306",
            }
        },
        {
            "name": "Run aas-node",
            "type": "node",
            "request": "launch",
            "program": "${workspaceFolder}/projects/aas-node/dist/aas-node.js",
            "cwd": "${workspaceFolder}",
            "skipFiles": [
                "<node_internals>/**"
            ],
            "env": {
                "NODE_ENV": "development",
                "AAS_NODE_PORT": "1337",
                "CONTENT_ROOT": "projects/aas-node/dist",
                "WEB_ROOT": "projects/aas-portal/dist",
                "ASSETS": "projects/aas-node/src/assets",
                "ENDPOINTS": "[\"file:///endpoints/samples?name=Samples\"]"
            }
        },
        {
            "name": "Test aas-portal",
            "type": "chrome",
            "request": "launch",
            "preLaunchTask": "test-aas-portal",
            "url": "http://localhost:9876/debug.html",
        },
        {
            "name": "Test aas-lib",
            "type": "chrome",
            "request": "launch",
            "preLaunchTask": "test-aas-lib",
            "url": "http://localhost:9876/debug.html",
        },
        {
            "name": "Test aas-node",
            "type": "node",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "runtimeExecutable": "npm",
            "runtimeArgs": [
                "run-script",
                "test",
                "-w",
                "aas-node"
            ],
        },
        {
            "name": "Debug aas-node test",
            "type": "node",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "runtimeExecutable": "npm",
            "runtimeArgs": [
                "run-script",
                "test",
                "-w",
                "aas-node",
                "--testPathPattern",
                "${fileBasename}"
            ],
        },
        {
            "name": "Test aas-core",
            "type": "node",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "runtimeExecutable": "npm",
            "runtimeArgs": [
                "run-script",
                "test",
                "-w",
                "aas-core"
            ]
        },
        {
            "name": "Debug aas-core test",
            "type": "node",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "runtimeExecutable": "npm",
            "runtimeArgs": [
                "run-script",
                "test",
                "-w",
                "aas-core",
                "--testPathPattern",
                "${fileBasename}"
            ]
        }
    ]
}